# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
DATABASE_URL=postgresql://postgres:postgres123@localhost:5432/analyticaloan
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10
DATABASE_ECHO=false

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_URL=redis://:redis123@localhost:6379/0
REDIS_MAX_CONNECTIONS=50

# =============================================================================
# RABBITMQ CONFIGURATION
# =============================================================================
RABBITMQ_URL=amqp://rabbitmq:rabbitmq123@localhost:5672/
RABBITMQ_EXCHANGE=analyticaloan

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================
JWT_SECRET_KEY=your-secret-key-here-change-in-production-min-32-chars
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=60
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# Encryption key for PII data (must be 32 bytes base64 encoded)
ENCRYPTION_KEY=your-32-byte-base64-encryption-key-change-me

# Password hashing (bcrypt rounds)
BCRYPT_ROUNDS=12

# =============================================================================
# GOOGLE CLOUD & AI
# =============================================================================
# Google Cloud credentials path
GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account-key.json

# Gemini API
GEMINI_API_KEY=your-gemini-api-key-here
GEMINI_PRO_MODEL=gemini-2.0-flash-exp
GEMINI_FLASH_MODEL=gemini-2.0-flash-thinking-exp
GEMINI_EMBEDDING_MODEL=text-embedding-004

# Google Cloud Vision (OCR)
GCP_PROJECT_ID=your-gcp-project-id
GCP_VISION_ENABLED=true

# Google Cloud Storage (Documents)
GCS_BUCKET_NAME=analyticaloan-documents
GCS_DOCUMENTS_PREFIX=documents/

# =============================================================================
# OBJECT STORAGE (MinIO for local dev, S3 for production)
# =============================================================================
STORAGE_PROVIDER=minio  # Options: minio, s3, gcs
STORAGE_ENDPOINT=http://localhost:9000
STORAGE_ACCESS_KEY=minioadmin
STORAGE_SECRET_KEY=minioadmin123
STORAGE_BUCKET=analyticaloan-documents
STORAGE_REGION=us-east-1

# AWS S3 (if using AWS)
# AWS_ACCESS_KEY_ID=your-aws-access-key
# AWS_SECRET_ACCESS_KEY=your-aws-secret-key
# AWS_REGION=ap-southeast-1
# S3_BUCKET=analyticaloan-documents

# =============================================================================
# WEAVIATE (Vector Database for RAG)
# =============================================================================
WEAVIATE_URL=http://localhost:8080
WEAVIATE_API_KEY=  # Leave empty for local development
WEAVIATE_BATCH_SIZE=100

# =============================================================================
# TEMPORAL (Workflow Engine)
# =============================================================================
TEMPORAL_HOST=localhost:7233
TEMPORAL_NAMESPACE=default
TEMPORAL_TASK_QUEUE=analyticaloan-underwriting

# =============================================================================
# EXTERNAL APIs
# =============================================================================
# SLIK OJK (Credit Bureau)
SLIK_OJK_API_URL=https://api.ojk.go.id/slik/v1
SLIK_OJK_API_KEY=your-slik-api-key
SLIK_OJK_TIMEOUT=30

# Core Banking System
CORE_BANKING_API_URL=https://your-core-banking-api.com
CORE_BANKING_API_KEY=your-core-banking-api-key
CORE_BANKING_TIMEOUT=10

# Email/SMS Gateway
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=noreply@analyticaloan.com
SMTP_PASSWORD=your-smtp-password
SMTP_FROM=noreply@analyticaloan.com

SMS_GATEWAY_URL=https://api.smsgat eway.com
SMS_GATEWAY_API_KEY=your-sms-api-key

# =============================================================================
# ML MODELS & MLFLOW
# =============================================================================
MLFLOW_TRACKING_URI=http://localhost:5000
MLFLOW_EXPERIMENT_NAME=credit-scoring
MLFLOW_MODEL_NAME=xgboost-credit-model
MLFLOW_MODEL_VERSION=1

# Model serving
MODEL_SERVING_HOST=0.0.0.0
MODEL_SERVING_PORT=8005

# =============================================================================
# MONITORING & LOGGING
# =============================================================================
LOG_LEVEL=INFO  # Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT=json  # Options: json, text
ENABLE_METRICS=true
ENABLE_TRACING=true

# Prometheus
PROMETHEUS_PORT=9090

# Jaeger
JAEGER_AGENT_HOST=localhost
JAEGER_AGENT_PORT=6831
JAEGER_SAMPLER_TYPE=const
JAEGER_SAMPLER_PARAM=1

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
APP_NAME=AnalyticaLoan
APP_VERSION=1.0.0
APP_ENV=development  # Options: development, staging, production
DEBUG=true

# API Settings
API_PREFIX=/api/v1
API_TITLE=AnalyticaLoan API
API_DESCRIPTION=AI-Powered Credit Underwriting System

# CORS
CORS_ORIGINS=http://localhost:3000,http://localhost:8000
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOW_HEADERS=*

# Rate Limiting
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# =============================================================================
# BUSINESS RULES & COMPLIANCE
# =============================================================================
# Decision thresholds
AUTO_APPROVE_SCORE_THRESHOLD=700
AUTO_REJECT_SCORE_THRESHOLD=400
MANUAL_REVIEW_SCORE_MIN=400
MANUAL_REVIEW_SCORE_MAX=700

# Loan limits
MAX_LOAN_AMOUNT=5000000000  # IDR 5 billion
MIN_LOAN_AMOUNT=1000000     # IDR 1 million
MAX_LOAN_TERM_MONTHS=240    # 20 years
MIN_LOAN_TERM_MONTHS=6

# Age limits
MIN_APPLICANT_AGE=21
MAX_APPLICANT_AGE=65

# Debt-to-Income ratio
MAX_DTI_RATIO=0.40  # 40%

# =============================================================================
# FEATURE FLAGS
# =============================================================================
ENABLE_OCR=true
ENABLE_LLM_REASONING=true
ENABLE_FRAUD_DETECTION=true
ENABLE_CREDIT_BUREAU=false  # Set to false if SLIK API not available
ENABLE_AUTO_CREDIT_MEMO=true
ENABLE_HUMAN_IN_THE_LOOP=true

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================
# Worker configuration
WORKER_CONCURRENCY=4
WORKER_MAX_TASKS_PER_CHILD=1000

# Database connection pooling
DB_POOL_PRE_PING=true
DB_POOL_RECYCLE=3600

# HTTP client timeouts (seconds)
HTTP_CONNECT_TIMEOUT=10
HTTP_READ_TIMEOUT=30
HTTP_TOTAL_TIMEOUT=60

# =============================================================================
# DEVELOPMENT/TESTING
# =============================================================================
# Test database
TEST_DATABASE_URL=postgresql://postgres:postgres123@localhost:5432/analyticaloan_test

# Seed data
SEED_ADMIN_EMAIL=admin@analyticaloan.com
SEED_ADMIN_PASSWORD=admin123
SEED_ADMIN_NAME=System Administrator

# Mock external APIs in development
MOCK_SLIK_API=true
MOCK_CORE_BANKING=true
MOCK_OCR_API=false  # Set to true to use Tesseract instead of Google Vision
